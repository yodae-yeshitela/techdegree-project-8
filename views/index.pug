extends layout

block content
  h1 Books
  p
    a(href='/books/new').button Create New Book
  
  div.search-box
    form(method="get")
      input.search-field(name="search_key" placeholder="Search..." type="text" value= searchTerm)
      input(type="submit", value="Search").search_button 
      a.reset_button(href='?page=1') Clear Search
  table
    thead
      tr  
        th Title
        th Author
        th Genre
        th Year
    tbody
      each book in books
        tr
          td
            a.book-link(href=`/books/${book.id}`)= book.title
          td= book.author
          td= book.genre
          td= book.year
  - var i = 1; 
  div.pagination
    while i <= pageCount
      a(class= i==currentPage?"active":"", href=`?page=${i}&search_key=${searchTerm}`)= i++
      

  